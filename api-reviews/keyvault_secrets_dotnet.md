
# Azure Key Vault Track 2 Client Library
The purpose of this doc is to detail the API surface area of the Azure Key Vault track 2 client library, as well as to highlight the changes between the existing client library and the proposed
changes for track 2.

## Namespaces and Packaging
Because this document proposes a substancial breaking change to the currently released Key Vault client library, both the library package, along with the root namespace must 
change.  To conform to naming guidelines proposed in <insert_link_here>, the package and root namespace of the track 2 Key Vault client library will change from __Microsoft.Azure.KeyVault__ 
to __Azure.Keyvault__.

#### Open Questions:
- Should all client and model classes exist in the root namespace or should they be devided as proposed below for client refactoring?  I.E. should the class Secret live 
directly in Azure.KeyVault, or in Azure.KeyVault.Secrets?
- Should the service namespace KeyVault be under Azure directly or should there be a group?  Azure.KeyVault vs. Azure.Security.KeyVault
## Client class refactoring

In the current Key Vault client library all Key Vault data plane APIs are exposed through a single client.  This client api surface is autogenerated, and is comprised the following interface and classes

~~~ csharp
public interface IKeyVaultClient {/*...*/}
public class KeyVaultClient : ServiceClient<KeyVaultClient> {/*...*/}
public class KeyVaultClientExtensions {/*...*/}
~~~

These client clases result in the API surface area

~~~ csharp
namespace Microsoft.Azure.KeyVault
{
    public class KeyVaultClient : ServiceClient<KeyVaultClient>
    {
        // constructors
        public KeyVaultClient(AuthenticationCallback authenticationCallback, DelegatingHandler[] handlers);
        public KeyVaultClient(AuthenticationCallback authenticationCallback, HttpClient httpClient);
        public KeyVaultClient(KeyVaultCredential credential, HttpClient httpClient);
        public KeyVaultClient(ServiceClientCredentials credentials, DelegatingHandler[] handlers);
        public KeyVaultClient(ServiceClientCredentials credentials, HttpClientHandler rootHandler, DelegatingHandler[] handlers);

        // properties
        public JsonSerializerSettings SerializationSettings { get; set; }
        public JsonSerializerSettings DeserializationSettings { get; set; }
        public ServiceClientCredentials Credentials { get; set; }
        public string ApiVersion { get; set; }
        public string AcceptLanguage { get; set; }
        public int? LongRunningOperationRetryTimeout { get; set; }
        public bool? GenerateClientRequestId { get; set; }

        // methods
        public virtual async Task<AzureOperationResponse<string>> GetPendingCertificateSigningRequestWithHttpMessagesAsync(string vaultBaseUrl, string certificateName, Dictionary<string, List<string>> customHeaders = default, CancellationToken cancellationToken = default);
        public virtual async Task<AzureOperationResponse<KeyBundle>> CreateKeyWithHttpMessagesAsync(string vaultBaseUrl, string keyName, string kty, int? keySize = default, IList<string> keyOps = default, KeyAttributes keyAttributes = default, IDictionary<string, string> tags = default, string curve = default, Dictionary<string, List<string>> customHeaders = default, CancellationToken cancellationToken = default);
        public virtual async Task<AzureOperationResponse<KeyBundle>> ImportKeyWithHttpMessagesAsync(string vaultBaseUrl, string keyName, JsonWebKey key, bool? hsm = default, KeyAttributes keyAttributes = default, IDictionary<string, string> tags = default, Dictionary<string, List<string>> customHeaders = default, CancellationToken cancellationToken = default);
        public virtual async Task<AzureOperationResponse<DeletedKeyBundle>> DeleteKeyWithHttpMessagesAsync(string vaultBaseUrl, string keyName, Dictionary<string, List<string>> customHeaders = default, CancellationToken cancellationToken = default);
        public virtual async Task<AzureOperationResponse<KeyBundle>> UpdateKeyWithHttpMessagesAsync(string vaultBaseUrl, string keyName, string keyVersion, IList<string> keyOps = default, KeyAttributes keyAttributes = default, IDictionary<string, string> tags = default, Dictionary<string, List<string>> customHeaders = default, CancellationToken cancellationToken = default);
        public virtual async Task<AzureOperationResponse<KeyBundle>> GetKeyWithHttpMessagesAsync(string vaultBaseUrl, string keyName, string keyVersion, Dictionary<string, List<string>> customHeaders = default, CancellationToken cancellationToken = default);
        public virtual async Task<AzureOperationResponse<IPage<KeyItem>>> GetKeyVersionsWithHttpMessagesAsync(string vaultBaseUrl, string keyName, int? maxresults = default, Dictionary<string, List<string>> customHeaders = default, CancellationToken cancellationToken = default);
        public virtual async Task<AzureOperationResponse<IPage<KeyItem>>> GetKeysWithHttpMessagesAsync(string vaultBaseUrl, int? maxresults = default, Dictionary<string, List<string>> customHeaders = default, CancellationToken cancellationToken = default);
        public virtual async Task<AzureOperationResponse<BackupKeyResult>> BackupKeyWithHttpMessagesAsync(string vaultBaseUrl, string keyName, Dictionary<string, List<string>> customHeaders = default, CancellationToken cancellationToken = default);
        public virtual async Task<AzureOperationResponse<KeyBundle>> RestoreKeyWithHttpMessagesAsync(string vaultBaseUrl, byte[] keyBundleBackup, Dictionary<string, List<string>> customHeaders = default, CancellationToken cancellationToken = default);
        public virtual async Task<AzureOperationResponse<KeyOperationResult>> EncryptWithHttpMessagesAsync(string vaultBaseUrl, string keyName, string keyVersion, string algorithm, byte[] value, Dictionary<string, List<string>> customHeaders = default, CancellationToken cancellationToken = default);
        public virtual async Task<AzureOperationResponse<KeyOperationResult>> DecryptWithHttpMessagesAsync(string vaultBaseUrl, string keyName, string keyVersion, string algorithm, byte[] value, Dictionary<string, List<string>> customHeaders = default, CancellationToken cancellationToken = default);
        public virtual async Task<AzureOperationResponse<KeyOperationResult>> SignWithHttpMessagesAsync(string vaultBaseUrl, string keyName, string keyVersion, string algorithm, byte[] value, Dictionary<string, List<string>> customHeaders = default, CancellationToken cancellationToken = default);
        public virtual async Task<AzureOperationResponse<KeyVerifyResult>> VerifyWithHttpMessagesAsync(string vaultBaseUrl, string keyName, string keyVersion, string algorithm, byte[] digest, byte[] signature, Dictionary<string, List<string>> customHeaders = default, CancellationToken cancellationToken = default);
        public virtual async Task<AzureOperationResponse<KeyOperationResult>> WrapKeyWithHttpMessagesAsync(string vaultBaseUrl, string keyName, string keyVersion, string algorithm, byte[] value, Dictionary<string, List<string>> customHeaders = default, CancellationToken cancellationToken = default);
        public virtual async Task<AzureOperationResponse<KeyOperationResult>> UnwrapKeyWithHttpMessagesAsync(string vaultBaseUrl, string keyName, string keyVersion, string algorithm, byte[] value, Dictionary<string, List<string>> customHeaders = default, CancellationToken cancellationToken = default);
        public virtual async Task<AzureOperationResponse<IPage<DeletedKeyItem>>> GetDeletedKeysWithHttpMessagesAsync(string vaultBaseUrl, int? maxresults = default, Dictionary<string, List<string>> customHeaders = default, CancellationToken cancellationToken = default);
        public virtual async Task<AzureOperationResponse<DeletedKeyBundle>> GetDeletedKeyWithHttpMessagesAsync(string vaultBaseUrl, string keyName, Dictionary<string, List<string>> customHeaders = default, CancellationToken cancellationToken = default);
        public virtual async Task<AzureOperationResponse> PurgeDeletedKeyWithHttpMessagesAsync(string vaultBaseUrl, string keyName, Dictionary<string, List<string>> customHeaders = default, CancellationToken cancellationToken = default);
        public virtual async Task<AzureOperationResponse<KeyBundle>> RecoverDeletedKeyWithHttpMessagesAsync(string vaultBaseUrl, string keyName, Dictionary<string, List<string>> customHeaders = default, CancellationToken cancellationToken = default);
        public virtual async Task<AzureOperationResponse<SecretBundle>> SetSecretWithHttpMessagesAsync(string vaultBaseUrl, string secretName, string value, IDictionary<string, string> tags = default, string contentType = default, SecretAttributes secretAttributes = default, Dictionary<string, List<string>> customHeaders = default, CancellationToken cancellationToken = default);
        public virtual async Task<AzureOperationResponse<DeletedSecretBundle>> DeleteSecretWithHttpMessagesAsync(string vaultBaseUrl, string secretName, Dictionary<string, List<string>> customHeaders = default, CancellationToken cancellationToken = default);
        public virtual async Task<AzureOperationResponse<SecretBundle>> UpdateSecretWithHttpMessagesAsync(string vaultBaseUrl, string secretName, string secretVersion, string contentType = default, SecretAttributes secretAttributes = default, IDictionary<string, string> tags = default, Dictionary<string, List<string>> customHeaders = default, CancellationToken cancellationToken = default);
        public virtual async Task<AzureOperationResponse<SecretBundle>> GetSecretWithHttpMessagesAsync(string vaultBaseUrl, string secretName, string secretVersion, Dictionary<string, List<string>> customHeaders = default, CancellationToken cancellationToken = default);
        public virtual async Task<AzureOperationResponse<IPage<SecretItem>>> GetSecretsWithHttpMessagesAsync(string vaultBaseUrl, int? maxresults = default, Dictionary<string, List<string>> customHeaders = default, CancellationToken cancellationToken = default);
        public virtual async Task<AzureOperationResponse<IPage<SecretItem>>> GetSecretVersionsWithHttpMessagesAsync(string vaultBaseUrl, string secretName, int? maxresults = default, Dictionary<string, List<string>> customHeaders = default, CancellationToken cancellationToken = default);
        public virtual async Task<AzureOperationResponse<IPage<DeletedSecretItem>>> GetDeletedSecretsWithHttpMessagesAsync(string vaultBaseUrl, int? maxresults = default, Dictionary<string, List<string>> customHeaders = default, CancellationToken cancellationToken = default);
        public virtual async Task<AzureOperationResponse<DeletedSecretBundle>> GetDeletedSecretWithHttpMessagesAsync(string vaultBaseUrl, string secretName, Dictionary<string, List<string>> customHeaders = default, CancellationToken cancellationToken = default);
        public virtual async Task<AzureOperationResponse> PurgeDeletedSecretWithHttpMessagesAsync(string vaultBaseUrl, string secretName, Dictionary<string, List<string>> customHeaders = default, CancellationToken cancellationToken = default);
        public virtual async Task<AzureOperationResponse<SecretBundle>> RecoverDeletedSecretWithHttpMessagesAsync(string vaultBaseUrl, string secretName, Dictionary<string, List<string>> customHeaders = default, CancellationToken cancellationToken = default);
        public virtual async Task<AzureOperationResponse<BackupSecretResult>> BackupSecretWithHttpMessagesAsync(string vaultBaseUrl, string secretName, Dictionary<string, List<string>> customHeaders = default, CancellationToken cancellationToken = default);
        public virtual async Task<AzureOperationResponse<SecretBundle>> RestoreSecretWithHttpMessagesAsync(string vaultBaseUrl, byte[] secretBundleBackup, Dictionary<string, List<string>> customHeaders = default, CancellationToken cancellationToken = default);
        public virtual async Task<AzureOperationResponse<IPage<CertificateItem>>> GetCertificatesWithHttpMessagesAsync(string vaultBaseUrl, int? maxresults = default, bool? includePending = default, Dictionary<string, List<string>> customHeaders = default, CancellationToken cancellationToken = default);
        public virtual async Task<AzureOperationResponse<DeletedCertificateBundle>> DeleteCertificateWithHttpMessagesAsync(string vaultBaseUrl, string certificateName, Dictionary<string, List<string>> customHeaders = default, CancellationToken cancellationToken = default);
        public virtual async Task<AzureOperationResponse<Contacts>> SetCertificateContactsWithHttpMessagesAsync(string vaultBaseUrl, Contacts contacts, Dictionary<string, List<string>> customHeaders = default, CancellationToken cancellationToken = default);
        public virtual async Task<AzureOperationResponse<Contacts>> GetCertificateContactsWithHttpMessagesAsync(string vaultBaseUrl, Dictionary<string, List<string>> customHeaders = default, CancellationToken cancellationToken = default);
        public virtual async Task<AzureOperationResponse<Contacts>> DeleteCertificateContactsWithHttpMessagesAsync(string vaultBaseUrl, Dictionary<string, List<string>> customHeaders = default, CancellationToken cancellationToken = default);
        public virtual async Task<AzureOperationResponse<IPage<CertificateIssuerItem>>> GetCertificateIssuersWithHttpMessagesAsync(string vaultBaseUrl, int? maxresults = default, Dictionary<string, List<string>> customHeaders = default, CancellationToken cancellationToken = default);
        public virtual async Task<AzureOperationResponse<IssuerBundle>> SetCertificateIssuerWithHttpMessagesAsync(string vaultBaseUrl, string issuerName, string provider, IssuerCredentials credentials = default, OrganizationDetails organizationDetails = default, IssuerAttributes attributes = default, Dictionary<string, List<string>> customHeaders = default, CancellationToken cancellationToken = default);
        public virtual async Task<AzureOperationResponse<IssuerBundle>> UpdateCertificateIssuerWithHttpMessagesAsync(string vaultBaseUrl, string issuerName, string provider = default, IssuerCredentials credentials = default, OrganizationDetails organizationDetails = default, IssuerAttributes attributes = default, Dictionary<string, List<string>> customHeaders = default, CancellationToken cancellationToken = default);
        public virtual async Task<AzureOperationResponse<IssuerBundle>> GetCertificateIssuerWithHttpMessagesAsync(string vaultBaseUrl, string issuerName, Dictionary<string, List<string>> customHeaders = default, CancellationToken cancellationToken = default);
        public virtual async Task<AzureOperationResponse<IssuerBundle>> DeleteCertificateIssuerWithHttpMessagesAsync(string vaultBaseUrl, string issuerName, Dictionary<string, List<string>> customHeaders = default, CancellationToken cancellationToken = default);
        public virtual async Task<AzureOperationResponse<CertificateOperation>> CreateCertificateWithHttpMessagesAsync(string vaultBaseUrl, string certificateName, CertificatePolicy certificatePolicy = default, CertificateAttributes certificateAttributes = default, IDictionary<string, string> tags = default, Dictionary<string, List<string>> customHeaders = default, CancellationToken cancellationToken = default);
        public virtual async Task<AzureOperationResponse<CertificateBundle>> ImportCertificateWithHttpMessagesAsync(string vaultBaseUrl, string certificateName, string base64EncodedCertificate, string password = default, CertificatePolicy certificatePolicy = default, CertificateAttributes certificateAttributes = default, IDictionary<string, string> tags = default, Dictionary<string, List<string>> customHeaders = default, CancellationToken cancellationToken = default);
        public virtual async Task<AzureOperationResponse<IPage<CertificateItem>>> GetCertificateVersionsWithHttpMessagesAsync(string vaultBaseUrl, string certificateName, int? maxresults = default, Dictionary<string, List<string>> customHeaders = default, CancellationToken cancellationToken = default);
        public virtual async Task<AzureOperationResponse<CertificatePolicy>> GetCertificatePolicyWithHttpMessagesAsync(string vaultBaseUrl, string certificateName, Dictionary<string, List<string>> customHeaders = default, CancellationToken cancellationToken = default);
        public virtual async Task<AzureOperationResponse<CertificatePolicy>> UpdateCertificatePolicyWithHttpMessagesAsync(string vaultBaseUrl, string certificateName, CertificatePolicy certificatePolicy, Dictionary<string, List<string>> customHeaders = default, CancellationToken cancellationToken = default);
        public virtual async Task<AzureOperationResponse<CertificateBundle>> UpdateCertificateWithHttpMessagesAsync(string vaultBaseUrl, string certificateName, string certificateVersion, CertificatePolicy certificatePolicy = default, CertificateAttributes certificateAttributes = default, IDictionary<string, string> tags = default, Dictionary<string, List<string>> customHeaders = default, CancellationToken cancellationToken = default);
        public virtual async Task<AzureOperationResponse<CertificateBundle>> GetCertificateWithHttpMessagesAsync(string vaultBaseUrl, string certificateName, string certificateVersion, Dictionary<string, List<string>> customHeaders = default, CancellationToken cancellationToken = default);
        public virtual async Task<AzureOperationResponse<CertificateOperation>> UpdateCertificateOperationWithHttpMessagesAsync(string vaultBaseUrl, string certificateName, bool cancellationRequested, Dictionary<string, List<string>> customHeaders = default, CancellationToken cancellationToken = default);
        public virtual async Task<AzureOperationResponse<CertificateOperation>> GetCertificateOperationWithHttpMessagesAsync(string vaultBaseUrl, string certificateName, Dictionary<string, List<string>> customHeaders = default, CancellationToken cancellationToken = default);
        public virtual async Task<AzureOperationResponse<CertificateOperation>> DeleteCertificateOperationWithHttpMessagesAsync(string vaultBaseUrl, string certificateName, Dictionary<string, List<string>> customHeaders = default, CancellationToken cancellationToken = default);
        public virtual async Task<AzureOperationResponse<CertificateBundle>> MergeCertificateWithHttpMessagesAsync(string vaultBaseUrl, string certificateName, IList<byte[]> x509Certificates, CertificateAttributes certificateAttributes = default, IDictionary<string, string> tags = default, Dictionary<string, List<string>> customHeaders = default, CancellationToken cancellationToken = default);
        public virtual async Task<AzureOperationResponse<BackupCertificateResult>> BackupCertificateWithHttpMessagesAsync(string vaultBaseUrl, string certificateName, Dictionary<string, List<string>> customHeaders = default, CancellationToken cancellationToken = default);
        public virtual async Task<AzureOperationResponse<CertificateBundle>> RestoreCertificateWithHttpMessagesAsync(string vaultBaseUrl, byte[] certificateBundleBackup, Dictionary<string, List<string>> customHeaders = default, CancellationToken cancellationToken = default);
        public virtual async Task<AzureOperationResponse<IPage<DeletedCertificateItem>>> GetDeletedCertificatesWithHttpMessagesAsync(string vaultBaseUrl, int? maxresults = default, bool? includePending = default, Dictionary<string, List<string>> customHeaders = default, CancellationToken cancellationToken = default);
        public virtual async Task<AzureOperationResponse<DeletedCertificateBundle>> GetDeletedCertificateWithHttpMessagesAsync(string vaultBaseUrl, string certificateName, Dictionary<string, List<string>> customHeaders = default, CancellationToken cancellationToken = default);
        public virtual async Task<AzureOperationResponse> PurgeDeletedCertificateWithHttpMessagesAsync(string vaultBaseUrl, string certificateName, Dictionary<string, List<string>> customHeaders = default, CancellationToken cancellationToken = default);
        public virtual async Task<AzureOperationResponse<CertificateBundle>> RecoverDeletedCertificateWithHttpMessagesAsync(string vaultBaseUrl, string certificateName, Dictionary<string, List<string>> customHeaders = default, CancellationToken cancellationToken = default);
        public virtual async Task<AzureOperationResponse<IPage<StorageAccountItem>>> GetStorageAccountsWithHttpMessagesAsync(string vaultBaseUrl, int? maxresults = default, Dictionary<string, List<string>> customHeaders = default, CancellationToken cancellationToken = default);
        public virtual async Task<AzureOperationResponse<IPage<DeletedStorageAccountItem>>> GetDeletedStorageAccountsWithHttpMessagesAsync(string vaultBaseUrl, int? maxresults = default, Dictionary<string, List<string>> customHeaders = default, CancellationToken cancellationToken = default);
        public virtual async Task<AzureOperationResponse<DeletedStorageBundle>> GetDeletedStorageAccountWithHttpMessagesAsync(string vaultBaseUrl, string storageAccountName, Dictionary<string, List<string>> customHeaders = default, CancellationToken cancellationToken = default);
        public virtual async Task<AzureOperationResponse> PurgeDeletedStorageAccountWithHttpMessagesAsync(string vaultBaseUrl, string storageAccountName, Dictionary<string, List<string>> customHeaders = default, CancellationToken cancellationToken = default);
        public virtual async Task<AzureOperationResponse<StorageBundle>> RecoverDeletedStorageAccountWithHttpMessagesAsync(string vaultBaseUrl, string storageAccountName, Dictionary<string, List<string>> customHeaders = default, CancellationToken cancellationToken = default);
        public virtual async Task<AzureOperationResponse<BackupStorageResult>> BackupStorageAccountWithHttpMessagesAsync(string vaultBaseUrl, string storageAccountName, Dictionary<string, List<string>> customHeaders = default, CancellationToken cancellationToken = default);
        public virtual async Task<AzureOperationResponse<StorageBundle>> RestoreStorageAccountWithHttpMessagesAsync(string vaultBaseUrl, byte[] storageBundleBackup, Dictionary<string, List<string>> customHeaders = default, CancellationToken cancellationToken = default);
        public virtual async Task<AzureOperationResponse<DeletedStorageBundle>> DeleteStorageAccountWithHttpMessagesAsync(string vaultBaseUrl, string storageAccountName, Dictionary<string, List<string>> customHeaders = default, CancellationToken cancellationToken = default);
        public virtual async Task<AzureOperationResponse<StorageBundle>> GetStorageAccountWithHttpMessagesAsync(string vaultBaseUrl, string storageAccountName, Dictionary<string, List<string>> customHeaders = default, CancellationToken cancellationToken = default);
        public virtual async Task<AzureOperationResponse<StorageBundle>> SetStorageAccountWithHttpMessagesAsync(string vaultBaseUrl, string storageAccountName, string resourceId, string activeKeyName, bool autoRegenerateKey, string regenerationPeriod = default, StorageAccountAttributes storageAccountAttributes = default, IDictionary<string, string> tags = default, Dictionary<string, List<string>> customHeaders = default, CancellationToken cancellationToken = default);
        public virtual async Task<AzureOperationResponse<StorageBundle>> UpdateStorageAccountWithHttpMessagesAsync(string vaultBaseUrl, string storageAccountName, string activeKeyName = default, bool? autoRegenerateKey = default, string regenerationPeriod = default, StorageAccountAttributes storageAccountAttributes = default, IDictionary<string, string> tags = default, Dictionary<string, List<string>> customHeaders = default, CancellationToken cancellationToken = default);
        public virtual async Task<AzureOperationResponse<StorageBundle>> RegenerateStorageAccountKeyWithHttpMessagesAsync(string vaultBaseUrl, string storageAccountName, string keyName, Dictionary<string, List<string>> customHeaders = default, CancellationToken cancellationToken = default);
        public virtual async Task<AzureOperationResponse<IPage<SasDefinitionItem>>> GetSasDefinitionsWithHttpMessagesAsync(string vaultBaseUrl, string storageAccountName, int? maxresults = default, Dictionary<string, List<string>> customHeaders = default, CancellationToken cancellationToken = default);
        public virtual async Task<AzureOperationResponse<IPage<DeletedSasDefinitionItem>>> GetDeletedSasDefinitionsWithHttpMessagesAsync(string vaultBaseUrl, string storageAccountName, int? maxresults = default, Dictionary<string, List<string>> customHeaders = default, CancellationToken cancellationToken = default);
        public virtual async Task<AzureOperationResponse<DeletedSasDefinitionBundle>> GetDeletedSasDefinitionWithHttpMessagesAsync(string vaultBaseUrl, string storageAccountName, string sasDefinitionName, Dictionary<string, List<string>> customHeaders = default, CancellationToken cancellationToken = default);
        public virtual async Task<AzureOperationResponse<SasDefinitionBundle>> RecoverDeletedSasDefinitionWithHttpMessagesAsync(string vaultBaseUrl, string storageAccountName, string sasDefinitionName, Dictionary<string, List<string>> customHeaders = default, CancellationToken cancellationToken = default);
        public virtual async Task<AzureOperationResponse<DeletedSasDefinitionBundle>> DeleteSasDefinitionWithHttpMessagesAsync(string vaultBaseUrl, string storageAccountName, string sasDefinitionName, Dictionary<string, List<string>> customHeaders = default, CancellationToken cancellationToken = default);
        public virtual async Task<AzureOperationResponse<SasDefinitionBundle>> GetSasDefinitionWithHttpMessagesAsync(string vaultBaseUrl, string storageAccountName, string sasDefinitionName, Dictionary<string, List<string>> customHeaders = default, CancellationToken cancellationToken = default);
        public virtual async Task<AzureOperationResponse<SasDefinitionBundle>> SetSasDefinitionWithHttpMessagesAsync(string vaultBaseUrl, string storageAccountName, string sasDefinitionName, string templateUri, string sasType, string validityPeriod, SasDefinitionAttributes sasDefinitionAttributes = default, IDictionary<string, string> tags = default, Dictionary<string, List<string>> customHeaders = default, CancellationToken cancellationToken = default);
        public virtual async Task<AzureOperationResponse<SasDefinitionBundle>> UpdateSasDefinitionWithHttpMessagesAsync(string vaultBaseUrl, string storageAccountName, string sasDefinitionName, string templateUri = default, string sasType = default, string validityPeriod = default, SasDefinitionAttributes sasDefinitionAttributes = default, IDictionary<string, string> tags = default, Dictionary<string, List<string>> customHeaders = default, CancellationToken cancellationToken = default);
        public virtual async Task<AzureOperationResponse<IPage<KeyItem>>> GetKeyVersionsNextWithHttpMessagesAsync(string nextPageLink, Dictionary<string, List<string>> customHeaders = default, CancellationToken cancellationToken = default);
        public virtual async Task<AzureOperationResponse<IPage<KeyItem>>> GetKeysNextWithHttpMessagesAsync(string nextPageLink, Dictionary<string, List<string>> customHeaders = default, CancellationToken cancellationToken = default);
        public virtual async Task<AzureOperationResponse<IPage<DeletedKeyItem>>> GetDeletedKeysNextWithHttpMessagesAsync(string nextPageLink, Dictionary<string, List<string>> customHeaders = default, CancellationToken cancellationToken = default);
        public virtual async Task<AzureOperationResponse<IPage<SecretItem>>> GetSecretsNextWithHttpMessagesAsync(string nextPageLink, Dictionary<string, List<string>> customHeaders = default, CancellationToken cancellationToken = default);
        public virtual async Task<AzureOperationResponse<IPage<SecretItem>>> GetSecretVersionsNextWithHttpMessagesAsync(string nextPageLink, Dictionary<string, List<string>> customHeaders = default, CancellationToken cancellationToken = default);
        public virtual async Task<AzureOperationResponse<IPage<DeletedSecretItem>>> GetDeletedSecretsNextWithHttpMessagesAsync(string nextPageLink, Dictionary<string, List<string>> customHeaders = default, CancellationToken cancellationToken = default);
        public virtual async Task<AzureOperationResponse<IPage<CertificateItem>>> GetCertificatesNextWithHttpMessagesAsync(string nextPageLink, Dictionary<string, List<string>> customHeaders = default, CancellationToken cancellationToken = default);
        public virtual async Task<AzureOperationResponse<IPage<CertificateIssuerItem>>> GetCertificateIssuersNextWithHttpMessagesAsync(string nextPageLink, Dictionary<string, List<string>> customHeaders = default, CancellationToken cancellationToken = default);
        public virtual async Task<AzureOperationResponse<IPage<CertificateItem>>> GetCertificateVersionsNextWithHttpMessagesAsync(string nextPageLink, Dictionary<string, List<string>> customHeaders = default, CancellationToken cancellationToken = default);
        public virtual async Task<AzureOperationResponse<IPage<DeletedCertificateItem>>> GetDeletedCertificatesNextWithHttpMessagesAsync(string nextPageLink, Dictionary<string, List<string>> customHeaders = default, CancellationToken cancellationToken = default);
        public virtual async Task<AzureOperationResponse<IPage<StorageAccountItem>>> GetStorageAccountsNextWithHttpMessagesAsync(string nextPageLink, Dictionary<string, List<string>> customHeaders = default, CancellationToken cancellationToken = default);
        public virtual async Task<AzureOperationResponse<IPage<DeletedStorageAccountItem>>> GetDeletedStorageAccountsNextWithHttpMessagesAsync(string nextPageLink, Dictionary<string, List<string>> customHeaders = default, CancellationToken cancellationToken = default);
        public virtual async Task<AzureOperationResponse<IPage<SasDefinitionItem>>> GetSasDefinitionsNextWithHttpMessagesAsync(string nextPageLink, Dictionary<string, List<string>> customHeaders = default, CancellationToken cancellationToken = default);
        public virtual async Task<AzureOperationResponse<IPage<DeletedSasDefinitionItem>>> GetDeletedSasDefinitionsNextWithHttpMessagesAsync(string nextPageLink, Dictionary<string, List<string>> customHeaders = default, CancellationToken cancellationToken = default);

        // extension methods
        public async Task<KeyOperationResult> EncryptAsync(string keyIdentifier, string algorithm, byte[] plainText, CancellationToken cancellationToken = default);
        public async Task<KeyOperationResult> DecryptAsync(string keyIdentifier, string algorithm, byte[] cipherText, CancellationToken cancellationToken = default);
        public async Task<KeyOperationResult> SignAsync(string keyIdentifier, string algorithm, byte[] digest, CancellationToken cancellationToken = default);
        public async Task<bool> VerifyAsync(string keyIdentifier, string algorithm, byte[] digest, byte[] signature, CancellationToken cancellationToken = default);
        public async Task<KeyOperationResult> WrapKeyAsync(string keyIdentifier, string algorithm, byte[] key, CancellationToken cancellationToken = default);
        public async Task<KeyOperationResult> UnwrapKeyAsync(string keyIdentifier, string algorithm, byte[] wrappedKey, CancellationToken cancellationToken = default);
        public async Task<KeyBundle> GetKeyAsync(string vaultBaseUrl, string keyName, CancellationToken cancellationToken = default);
        public async Task<KeyBundle> GetKeyAsync(string keyIdentifier, CancellationToken cancellationToken = default);
        public async Task<KeyBundle> UpdateKeyAsync(string vaultBaseUrl, string keyName, string[] keyOps = default, KeyAttributes attributes = default, Dictionary<string, string> tags = default, CancellationToken cancellationToken = default);
        public async Task<KeyBundle> UpdateKeyAsync(string keyIdentifier, string[] keyOps = default, KeyAttributes attributes = default, Dictionary<string, string> tags = default, CancellationToken cancellationToken = default);
        public async Task<KeyBundle> CreateKeyAsync(string vaultBaseUrl, string keyName, NewKeyParameters parameters, CancellationToken cancellationToken = default);
        public async Task<KeyBundle> ImportKeyAsync(string vaultBaseUrl, string keyName, KeyBundle keyBundle, bool? importToHardware = default, CancellationToken cancellationToken = default);
        public async Task<SecretBundle> GetSecretAsync(string vaultBaseUrl, string secretName, CancellationToken cancellationToken = default);
        public async Task<SecretBundle> GetSecretAsync(string secretIdentifier, CancellationToken cancellationToken = default);
        public async Task<SecretBundle> UpdateSecretAsync(string secretIdentifier, string contentType = default, SecretAttributes secretAttributes = default, Dictionary<string, string> tags = default, CancellationToken cancellationToken = default);
        public async Task<SecretBundle> RecoverDeletedSecretAsync(string recoveryId, CancellationToken cancellationToken = default);
        public async Task<KeyBundle> RecoverDeletedKeyAsync(string recoveryId, CancellationToken cancellationToken = default);
        public async Task<CertificateBundle> RecoverDeletedCertificateAsync(string recoveryId, CancellationToken cancellationToken = default);
        public async Task PurgeDeletedSecretAsync(string recoveryId, CancellationToken cancellationToken = default);
        public async Task PurgeDeletedKeyAsync(string recoveryId, CancellationToken cancellationToken = default);
        public async Task PurgeDeletedCertificateAsync(string recoveryId, CancellationToken cancellationToken = default);
        public async Task<CertificateBundle> GetCertificateAsync(string vaultBaseUrl, string certificateName, CancellationToken cancellationToken = default);
        public async Task<CertificateBundle> GetCertificateAsync(string certificateIdentifier, CancellationToken cancellationToken = default);
        public async Task<CertificateBundle> UpdateCertificateAsync(string certificateIdentifier, CertificatePolicy certificatePolicy = default, CertificateAttributes certificateAttributes = default, IDictionary<string, string> tags = default, CancellationToken cancellationToken = default);
        public async Task<CertificateBundle> ImportCertificateAsync(string vaultBaseUrl, string certificateName, X509Certificate2Collection certificateCollection, CertificatePolicy certificatePolicy, CertificateAttributes certificateAttributes = default, IDictionary<string, string> tags = default, CancellationToken cancellationToken = default);
        public async Task<CertificateBundle> MergeCertificateAsync(string vaultBaseUrl, string certificateName, X509Certificate2Collection x509Certificates, CertificateAttributes certificateAttributes = default, IDictionary<string, string> tags = default, CancellationToken cancellationToken = default);
        public async Task<string> GetPendingCertificateSigningRequestAsync(string vaultBaseUrl, string certificateName, CancellationToken cancellationToken = default);
        public async Task<KeyBundle> CreateKeyAsync(string vaultBaseUrl, string keyName, string kty, int? keySize = default, IList<string> keyOps = default, KeyAttributes keyAttributes = default, IDictionary<string, string> tags = default, string curve = default, CancellationToken cancellationToken = default);
        public async Task<KeyBundle> ImportKeyAsync(string vaultBaseUrl, string keyName, JsonWebKey key, bool? hsm = default, KeyAttributes keyAttributes = default, IDictionary<string, string> tags = default, CancellationToken cancellationToken = default);
        public async Task<DeletedKeyBundle> DeleteKeyAsync(string vaultBaseUrl, string keyName, CancellationToken cancellationToken = default);
        public async Task<KeyBundle> UpdateKeyAsync(string vaultBaseUrl, string keyName, string keyVersion, IList<string> keyOps = default, KeyAttributes keyAttributes = default, IDictionary<string, string> tags = default, CancellationToken cancellationToken = default);
        public async Task<KeyBundle> GetKeyAsync(string vaultBaseUrl, string keyName, string keyVersion, CancellationToken cancellationToken = default);
        public async Task<IPage<KeyItem>> GetKeyVersionsAsync(string vaultBaseUrl, string keyName, int? maxresults = default, CancellationToken cancellationToken = default);
        public async Task<IPage<KeyItem>> GetKeysAsync(string vaultBaseUrl, int? maxresults = default, CancellationToken cancellationToken = default);
        public async Task<BackupKeyResult> BackupKeyAsync(string vaultBaseUrl, string keyName, CancellationToken cancellationToken = default);
        public async Task<KeyBundle> RestoreKeyAsync(string vaultBaseUrl, byte[] keyBundleBackup, CancellationToken cancellationToken = default);
        public async Task<KeyOperationResult> EncryptAsync(string vaultBaseUrl, string keyName, string keyVersion, string algorithm, byte[] value, CancellationToken cancellationToken = default);
        public async Task<KeyOperationResult> DecryptAsync(string vaultBaseUrl, string keyName, string keyVersion, string algorithm, byte[] value, CancellationToken cancellationToken = default);
        public async Task<KeyOperationResult> SignAsync(string vaultBaseUrl, string keyName, string keyVersion, string algorithm, byte[] value, CancellationToken cancellationToken = default);
        public async Task<KeyVerifyResult> VerifyAsync(string vaultBaseUrl, string keyName, string keyVersion, string algorithm, byte[] digest, byte[] signature, CancellationToken cancellationToken = default);
        public async Task<KeyOperationResult> WrapKeyAsync(string vaultBaseUrl, string keyName, string keyVersion, string algorithm, byte[] value, CancellationToken cancellationToken = default);
        public async Task<KeyOperationResult> UnwrapKeyAsync(string vaultBaseUrl, string keyName, string keyVersion, string algorithm, byte[] value, CancellationToken cancellationToken = default);
        public async Task<IPage<DeletedKeyItem>> GetDeletedKeysAsync(string vaultBaseUrl, int? maxresults = default, CancellationToken cancellationToken = default);
        public async Task<DeletedKeyBundle> GetDeletedKeyAsync(string vaultBaseUrl, string keyName, CancellationToken cancellationToken = default);
        public async Task PurgeDeletedKeyAsync(string vaultBaseUrl, string keyName, CancellationToken cancellationToken = default);
        public async Task<KeyBundle> RecoverDeletedKeyAsync(string vaultBaseUrl, string keyName, CancellationToken cancellationToken = default);
        public async Task<SecretBundle> SetSecretAsync(string vaultBaseUrl, string secretName, string value, IDictionary<string, string> tags = default, string contentType = default, SecretAttributes secretAttributes = default, CancellationToken cancellationToken = default);
        public async Task<DeletedSecretBundle> DeleteSecretAsync(string vaultBaseUrl, string secretName, CancellationToken cancellationToken = default);
        public async Task<SecretBundle> UpdateSecretAsync(string vaultBaseUrl, string secretName, string secretVersion, string contentType = default, SecretAttributes secretAttributes = default, IDictionary<string, string> tags = default, CancellationToken cancellationToken = default);
        public async Task<SecretBundle> GetSecretAsync(string vaultBaseUrl, string secretName, string secretVersion, CancellationToken cancellationToken = default);
        public async Task<IPage<SecretItem>> GetSecretsAsync(string vaultBaseUrl, int? maxresults = default, CancellationToken cancellationToken = default);
        public async Task<IPage<SecretItem>> GetSecretVersionsAsync(string vaultBaseUrl, string secretName, int? maxresults = default, CancellationToken cancellationToken = default);
        public async Task<IPage<DeletedSecretItem>> GetDeletedSecretsAsync(string vaultBaseUrl, int? maxresults = default, CancellationToken cancellationToken = default);
        public async Task<DeletedSecretBundle> GetDeletedSecretAsync(string vaultBaseUrl, string secretName, CancellationToken cancellationToken = default);
        public async Task PurgeDeletedSecretAsync(string vaultBaseUrl, string secretName, CancellationToken cancellationToken = default);
        public async Task<SecretBundle> RecoverDeletedSecretAsync(string vaultBaseUrl, string secretName, CancellationToken cancellationToken = default);
        public async Task<BackupSecretResult> BackupSecretAsync(string vaultBaseUrl, string secretName, CancellationToken cancellationToken = default);
        public async Task<SecretBundle> RestoreSecretAsync(string vaultBaseUrl, byte[] secretBundleBackup, CancellationToken cancellationToken = default);
        public async Task<IPage<CertificateItem>> GetCertificatesAsync(string vaultBaseUrl, int? maxresults = default, bool? includePending = default, CancellationToken cancellationToken = default);
        public async Task<DeletedCertificateBundle> DeleteCertificateAsync(string vaultBaseUrl, string certificateName, CancellationToken cancellationToken = default);
        public async Task<Contacts> SetCertificateContactsAsync(string vaultBaseUrl, Contacts contacts, CancellationToken cancellationToken = default);
        public async Task<Contacts> GetCertificateContactsAsync(string vaultBaseUrl, CancellationToken cancellationToken = default);
        public async Task<Contacts> DeleteCertificateContactsAsync(string vaultBaseUrl, CancellationToken cancellationToken = default);
        public async Task<IPage<CertificateIssuerItem>> GetCertificateIssuersAsync(string vaultBaseUrl, int? maxresults = default, CancellationToken cancellationToken = default);
        public async Task<IssuerBundle> SetCertificateIssuerAsync(string vaultBaseUrl, string issuerName, string provider, IssuerCredentials credentials = default, OrganizationDetails organizationDetails = default, IssuerAttributes attributes = default, CancellationToken cancellationToken = default);
        public async Task<IssuerBundle> UpdateCertificateIssuerAsync(string vaultBaseUrl, string issuerName, string provider = default, IssuerCredentials credentials = default, OrganizationDetails organizationDetails = default, IssuerAttributes attributes = default, CancellationToken cancellationToken = default);
        public async Task<IssuerBundle> GetCertificateIssuerAsync(string vaultBaseUrl, string issuerName, CancellationToken cancellationToken = default);
        public async Task<IssuerBundle> DeleteCertificateIssuerAsync(string vaultBaseUrl, string issuerName, CancellationToken cancellationToken = default);
        public async Task<CertificateOperation> CreateCertificateAsync(string vaultBaseUrl, string certificateName, CertificatePolicy certificatePolicy = default, CertificateAttributes certificateAttributes = default, IDictionary<string, string> tags = default, CancellationToken cancellationToken = default);
        public async Task<CertificateBundle> ImportCertificateAsync(string vaultBaseUrl, string certificateName, string base64EncodedCertificate, string password = default, CertificatePolicy certificatePolicy = default, CertificateAttributes certificateAttributes = default, IDictionary<string, string> tags = default, CancellationToken cancellationToken = default);
        public async Task<IPage<CertificateItem>> GetCertificateVersionsAsync(string vaultBaseUrl, string certificateName, int? maxresults = default, CancellationToken cancellationToken = default);
        public async Task<CertificatePolicy> GetCertificatePolicyAsync(string vaultBaseUrl, string certificateName, CancellationToken cancellationToken = default);
        public async Task<CertificatePolicy> UpdateCertificatePolicyAsync(string vaultBaseUrl, string certificateName, CertificatePolicy certificatePolicy, CancellationToken cancellationToken = default);
        public async Task<CertificateBundle> UpdateCertificateAsync(string vaultBaseUrl, string certificateName, string certificateVersion, CertificatePolicy certificatePolicy = default, CertificateAttributes certificateAttributes = default, IDictionary<string, string> tags = default, CancellationToken cancellationToken = default);
        public async Task<CertificateBundle> GetCertificateAsync(string vaultBaseUrl, string certificateName, string certificateVersion, CancellationToken cancellationToken = default);
        public async Task<CertificateOperation> UpdateCertificateOperationAsync(string vaultBaseUrl, string certificateName, bool cancellationRequested, CancellationToken cancellationToken = default);
        public async Task<CertificateOperation> GetCertificateOperationAsync(string vaultBaseUrl, string certificateName, CancellationToken cancellationToken = default);
        public async Task<CertificateOperation> DeleteCertificateOperationAsync(string vaultBaseUrl, string certificateName, CancellationToken cancellationToken = default);
        public async Task<CertificateBundle> MergeCertificateAsync(string vaultBaseUrl, string certificateName, IList<byte[]> x509Certificates, CertificateAttributes certificateAttributes = default, IDictionary<string, string> tags = default, CancellationToken cancellationToken = default);
        public async Task<BackupCertificateResult> BackupCertificateAsync(string vaultBaseUrl, string certificateName, CancellationToken cancellationToken = default);
        public async Task<CertificateBundle> RestoreCertificateAsync(string vaultBaseUrl, byte[] certificateBundleBackup, CancellationToken cancellationToken = default);
        public async Task<IPage<DeletedCertificateItem>> GetDeletedCertificatesAsync(string vaultBaseUrl, int? maxresults = default, bool? includePending = default, CancellationToken cancellationToken = default);
        public async Task<DeletedCertificateBundle> GetDeletedCertificateAsync(string vaultBaseUrl, string certificateName, CancellationToken cancellationToken = default);
        public async Task PurgeDeletedCertificateAsync(string vaultBaseUrl, string certificateName, CancellationToken cancellationToken = default);
        public async Task<CertificateBundle> RecoverDeletedCertificateAsync(string vaultBaseUrl, string certificateName, CancellationToken cancellationToken = default);
        public async Task<IPage<StorageAccountItem>> GetStorageAccountsAsync(string vaultBaseUrl, int? maxresults = default, CancellationToken cancellationToken = default);
        public async Task<IPage<DeletedStorageAccountItem>> GetDeletedStorageAccountsAsync(string vaultBaseUrl, int? maxresults = default, CancellationToken cancellationToken = default);
        public async Task<DeletedStorageBundle> GetDeletedStorageAccountAsync(string vaultBaseUrl, string storageAccountName, CancellationToken cancellationToken = default);
        public async Task PurgeDeletedStorageAccountAsync(string vaultBaseUrl, string storageAccountName, CancellationToken cancellationToken = default);
        public async Task<StorageBundle> RecoverDeletedStorageAccountAsync(string vaultBaseUrl, string storageAccountName, CancellationToken cancellationToken = default);
        public async Task<BackupStorageResult> BackupStorageAccountAsync(string vaultBaseUrl, string storageAccountName, CancellationToken cancellationToken = default);
        public async Task<StorageBundle> RestoreStorageAccountAsync(string vaultBaseUrl, byte[] storageBundleBackup, CancellationToken cancellationToken = default);
        public async Task<DeletedStorageBundle> DeleteStorageAccountAsync(string vaultBaseUrl, string storageAccountName, CancellationToken cancellationToken = default);
        public async Task<StorageBundle> GetStorageAccountAsync(string vaultBaseUrl, string storageAccountName, CancellationToken cancellationToken = default);
        public async Task<StorageBundle> SetStorageAccountAsync(string vaultBaseUrl, string storageAccountName, string resourceId, string activeKeyName, bool autoRegenerateKey, string regenerationPeriod = default, StorageAccountAttributes storageAccountAttributes = default, IDictionary<string, string> tags = default, CancellationToken cancellationToken = default);
        public async Task<StorageBundle> UpdateStorageAccountAsync(string vaultBaseUrl, string storageAccountName, string activeKeyName = default, bool? autoRegenerateKey = default, string regenerationPeriod = default, StorageAccountAttributes storageAccountAttributes = default, IDictionary<string, string> tags = default, CancellationToken cancellationToken = default);
        public async Task<StorageBundle> RegenerateStorageAccountKeyAsync(string vaultBaseUrl, string storageAccountName, string keyName, CancellationToken cancellationToken = default);
        public async Task<IPage<SasDefinitionItem>> GetSasDefinitionsAsync(string vaultBaseUrl, string storageAccountName, int? maxresults = default, CancellationToken cancellationToken = default);
        public async Task<IPage<DeletedSasDefinitionItem>> GetDeletedSasDefinitionsAsync(string vaultBaseUrl, string storageAccountName, int? maxresults = default, CancellationToken cancellationToken = default);
        public async Task<DeletedSasDefinitionBundle> GetDeletedSasDefinitionAsync(string vaultBaseUrl, string storageAccountName, string sasDefinitionName, CancellationToken cancellationToken = default);
        public async Task<SasDefinitionBundle> RecoverDeletedSasDefinitionAsync(string vaultBaseUrl, string storageAccountName, string sasDefinitionName, CancellationToken cancellationToken = default);
        public async Task<DeletedSasDefinitionBundle> DeleteSasDefinitionAsync(string vaultBaseUrl, string storageAccountName, string sasDefinitionName, CancellationToken cancellationToken = default);
        public async Task<SasDefinitionBundle> GetSasDefinitionAsync(string vaultBaseUrl, string storageAccountName, string sasDefinitionName, CancellationToken cancellationToken = default);
        public async Task<SasDefinitionBundle> SetSasDefinitionAsync(string vaultBaseUrl, string storageAccountName, string sasDefinitionName, string templateUri, string sasType, string validityPeriod, SasDefinitionAttributes sasDefinitionAttributes = default, IDictionary<string, string> tags = default, CancellationToken cancellationToken = default);
        public async Task<SasDefinitionBundle> UpdateSasDefinitionAsync(string vaultBaseUrl, string storageAccountName, string sasDefinitionName, string templateUri = default, string sasType = default, string validityPeriod = default, SasDefinitionAttributes sasDefinitionAttributes = default, IDictionary<string, string> tags = default, CancellationToken cancellationToken = default);
        public async Task<IPage<KeyItem>> GetKeyVersionsNextAsync(string nextPageLink, CancellationToken cancellationToken = default);
        public async Task<IPage<KeyItem>> GetKeysNextAsync(string nextPageLink, CancellationToken cancellationToken = default);
        public async Task<IPage<DeletedKeyItem>> GetDeletedKeysNextAsync(string nextPageLink, CancellationToken cancellationToken = default);
        public async Task<IPage<SecretItem>> GetSecretsNextAsync(string nextPageLink, CancellationToken cancellationToken = default);
        public async Task<IPage<SecretItem>> GetSecretVersionsNextAsync(string nextPageLink, CancellationToken cancellationToken = default);
        public async Task<IPage<DeletedSecretItem>> GetDeletedSecretsNextAsync(string nextPageLink, CancellationToken cancellationToken = default);
        public async Task<IPage<CertificateItem>> GetCertificatesNextAsync(string nextPageLink, CancellationToken cancellationToken = default);
        public async Task<IPage<CertificateIssuerItem>> GetCertificateIssuersNextAsync(string nextPageLink, CancellationToken cancellationToken = default);
        public async Task<IPage<CertificateItem>> GetCertificateVersionsNextAsync(string nextPageLink, CancellationToken cancellationToken = default);
        public async Task<IPage<DeletedCertificateItem>> GetDeletedCertificatesNextAsync(string nextPageLink, CancellationToken cancellationToken = default);
        public async Task<IPage<StorageAccountItem>> GetStorageAccountsNextAsync(string nextPageLink, CancellationToken cancellationToken = default);
        public async Task<IPage<DeletedStorageAccountItem>> GetDeletedStorageAccountsNextAsync(string nextPageLink, CancellationToken cancellationToken = default);
        public async Task<IPage<SasDefinitionItem>> GetSasDefinitionsNextAsync(string nextPageLink, CancellationToken cancellationToken = default);
        public async Task<IPage<DeletedSasDefinitionItem>> GetDeletedSasDefinitionsNextAsync(string nextPageLink, CancellationToken cancellationToken = default);
    }
}
~~~

This large API surface on the KeyVaultClient makes for a less than optimal user experience as it can be difficult to find the appropriate API.  Also it can be unclear which overload of an API a user is intended to call.  And most of all there 
is just the sheer overload of information when reading docs and scrolling through intellisense. 

## Logical Grouping of Client APIs
In the track 2 KeyVaultClient we propose breaking up the APIs of KeyVaultClient into logical groups based off the entity they deal with, 
and creating a more refined client for each group with a high level convenience client which exposes all of them.  The APIs will be grouped 
in to three client classes __SecretClient__, __KeyClient__, and __CertificateClient__.  A convenience client, __KeyVaultClient__, will 
expose the other three clients as properties for users whose scenarios use APIs on more than one client.

## __KeyVaultClient__
~~~ csharp
namespace Azure.KeyVault
{
    public class KeyVaultClient : KeyVaultClientBase
    {
        public KeyVaultClient(Uri vaultUri, ITokenCredentialProvider credentialProvider, PipelineOptions options = default);
        public KeyVaultClient(Uri vaultUri, ITokenCredential credentials, PipelineOptions options = default);

        public SecretClient Secrets { get; set; }
        public KeyClient Keys { get; set; }
        public CertificateClient Certificates { get; set; }
    }
}
~~~

### Usage:
~~~ csharp
var client = new KeyVaultClient(vaultUri, new MsalCredentialProvider());

var secret = await client.Secrets.SetAsync("user1pass", "password");

var key = await client.Keys.GetAsync("key1");
~~~

## __SecretClient__
~~~ csharp
namespace Azure.KeyVault
{
    public class SecretClient : KeyVaultClientBase
    {
        // constructors
        public SecretClient(Uri vaultUri, ITokenCredentialProvider credentialProvider, PipelineOptions options = default);
        public SecretClient(Uri vaultUri, ITokenCredential credentials, PipelineOptions options = default);

        // methods
        public async Task<Response<Secret>> SetAsync(string name, string value, string contentType = default, VaultEntityAttributes attributes = default, IDictionary<string, string> tags = default, CancellationToken cancellation = default);
        public async Task<Response<Secret>> GetAsync(Uri secretUri, CancellationToken cancellation = default);
        public async Task<Response<Secret>> GetAsync(string name, string version = default, CancellationToken cancellation = default);
        public async Task<Response<Secret>> UpdateAsync(Uri secretUri, string contentType = default, VaultEntityAttributes attributes = default, IDictionary<string, string> tags = default, CancellationToken cancellation = default);
        public async Task<Response<Secret>> UpdateAsync(string name, string version, string contentType = default, VaultEntityAttributes attributes = default, IDictionary<string, string> tags = default, CancellationToken cancellation = default);
        public async Task<Response<DeletedSecret>> DeleteAsync(string name, CancellationToken cancellation = default);
        public async Task<Response<DeletedSecret>> GetDeletedAsync(Uri recoveryId, CancellationToken cancellation = default);
        public async Task<Response<DeletedSecret>> GetDeletedAsync(string name, CancellationToken cancellation = default);
        public Page<Secret>.AsyncItemEnumerator ListAsync(int? maxPageSize = default, CancellationToken cancellation = default);
        public Page<Secret>.AsyncItemEnumerator ListVersionsAsync(string name, int? maxPageSize = default, CancellationToken cancellation = default);
        public Page<Secret>.AsyncItemEnumerator ListDeletedAsync(int? maxPageSize = default, CancellationToken cancellation = default);
        public Page<Secret>.AsyncEnumerator ListByPageAsync(int? maxPageSize = default, CancellationToken cancellation = default);
        public Page<Secret>.AsyncEnumerator ListVersionsByPageAsync(string name, int? maxPageSize = default, CancellationToken cancellation = default);
        public Page<Secret>.AsyncEnumerator ListDeletedByPageAsync(int? maxPageSize = default, CancellationToken cancellation = default);
        public async Task<Response<Secret>> RecoverAsync(Uri recoveryId, CancellationToken cancellation = default);
        public async Task<Response<Secret>> RecoverAsync(string name, CancellationToken cancellation = default);
        public async Task<Response<byte[]>> BackupAsync(string name, CancellationToken cancellation = default);
        public async Task<Response<Secret>> RestoreAsync(byte[] backup, CancellationToken cancellation = default);
    }
}
~~~
## Get / Set Operations
### SecretClient.Set

~~~ csharp
public async Task<Response<Secret>> SetAsync(string name, string value, string contentType = default, VaultEntityAttributes attributes = default, IDictionary<string, string> tags = default, CancellationToken cancellation = default);
~~~
#### Usage:
~~~ csharp
var secrets = new SecretClient(new Uri("https://myvault.vaults.azure.net/"), new MsalCredentialProvider());

// set a simple secret such as password
var password = await secrets.SetAsync("user1pass", "password");

// set a symmetric key secret with nbf and exp
var attr = new VaultEntityAttributes() { NotBefore = DateTime.UtcNow, Expires = DateTime.UtcNow + TimeSpan.FromDays(90) };

Secret keyv1 = await secrets.SetAsync("secretkey", Base64Url.Encode(keyMaterial), contentType: "application/octect-stream", attributes: attr);
~~~


### Replaces:
~~~ csharp
public async Task<SecretBundle> SetSecretAsync(string vaultBaseUrl, string secretName, string value, IDictionary<string, string> tags = default, string contentType = default, SecretAttributes secretAttributes = default, CancellationToken cancellationToken = default);
public virtual async Task<AzureOperationResponse<SecretBundle>> SetSecretWithHttpMessagesAsync(string vaultBaseUrl, string secretName, string value, IDictionary<string, string> tags = default, string contentType = default, SecretAttributes secretAttributes = default, Dictionary<string, List<string>> customHeaders = default, CancellationToken cancellationToken = default);
~~~
#### Usage:
~~~ csharp
var client = new KeyVaultClient(new KeyVaultCredentials(this.AuthCallback));

// set a simple secret such as password
var password = await client.SetSecretAsync("https://myvault.vaults.azure.net/", "user1pass", "password");
// or
var password = await client.SetSecretWithHttpMessageAsync("https://myvault.vaults.azure.net/", "user1pass", "password").Body;

// set a secret with extended attributes, in this case a symmetric key
var attr = new SecretAttributes() { NotBefore = DateTime.UtcNow, Expires = DateTime.UtcNow + TimeSpan.FromDays(90) };

var keyv1 = await client.SetSecretAsync("https://myvault.vaults.azure.net/", "secretkey", Base64Url.Encode(keyMaterial), contentType: "application/octect-stream", attributes: attr);
// or
var keyv1 = await client.SetSecretWithHttpMessageAsync("https://myvault.vaults.azure.net/", "secretkey", Base64Url.Encode(keyMaterial), contentType: "application/octect-stream", attributes: attr);
~~~

### SecretClient.Get
~~~ csharp
public async Task<Response<Secret>> GetAsync(Uri secretUri, CancellationToken cancellation = default);
public async Task<Response<Secret>> GetAsync(string name, string version = default, CancellationToken cancellation = default);
~~~

#### Usage:
~~~ csharp
// get the latest version of a secret
var secret = await secrets.GetAsync("user1pass");

// get a specific version of a secret
var secret = await secrets.GetAsync(new Uri("https://myvault.vaults.azure.net/secrets/user1pass/6A385B124DEF4096AF1361A85B16C204"));
//or
var secret = await secrets.GetAsync("user1pass", version: "6A385B124DEF4096AF1361A85B16C204");
~~~

__Open Questions:__
- do we need the defaulted parameter for version in the second overload, or should that overload drop version and be renamed GetLatest?

### Replaces:
~~~ csharp
public async Task<SecretBundle> GetSecretAsync(string vaultBaseUrl, string secretName, CancellationToken cancellationToken = default);
public async Task<SecretBundle> GetSecretAsync(string secretIdentifier, CancellationToken cancellationToken = default);
public async Task<SecretBundle> GetSecretAsync(string vaultBaseUrl, string secretName, string secretVersion, CancellationToken cancellationToken = default);
public virtual async Task<AzureOperationResponse<SecretBundle>> SetSecretWithHttpMessagesAsync(string vaultBaseUrl, string secretName, string value, IDictionary<string, string> tags = default, string contentType = default, SecretAttributes secretAttributes = default, Dictionary<string, List<string>> customHeaders = default, CancellationToken cancellationToken = default);
~~~
#### Usage:
~~~ csharp
// get the latest version of a secret
var secret = await client.GetSecretAsync("https://myvault.vaults.azure.net/", "user1pass");
//or 
var secret = await client.GetSecretWithHttpMessageAsync("https://myvault.vaults.azure.net/", "user1pass", string.Empty).Body;


// get a specific version of a secret
var secret = await secrets.GetSecretAsync("https://myvault.vaults.azure.net/secrets/user1pass/6A385B124DEF4096AF1361A85B16C204");
//or
var secret = await secrets.GetSecretWithHttpMessageAsync("https://myvault.vaults.azure.net/secrets/user1pass/6A385B124DEF4096AF1361A85B16C204").Body;
//or
var secret = await secrets.GetSecrtAsync("https://myvault.vaults.azure.net/", "user1pass", version: "6A385B124DEF4096AF1361A85B16C204");
//or
var secret = await secrets.GetSecrtWithHttpMessageAsync("https://myvault.vaults.azure.net/", "user1pass", version: "6A385B124DEF4096AF1361A85B16C204").Body;
~~~

### SecetClient.Update
~~~ csharp
public async Task<Response<Secret>> UpdateAsync(Uri secretUri, string contentType = default, VaultEntityAttributes attributes = default, IDictionary<string, string> tags = default, CancellationToken cancellation = default);
public async Task<Response<Secret>> UpdateAsync(string name, string version, string contentType = default, VaultEntityAttributes attributes = default, IDictionary<string, string> tags = default, CancellationToken cancellation = default);
~~~
#### Usage:
~~~ csharp
// extend the expiration of a secret
var secret = await secrets.GetAsync("secretkey");

secret.Attributes.NotBefore = secret.Attributes.NotBefore + Timespan.FromDays(90);

secret = secrets.UpdateAsync(secret.Id, attributes: secret.Attributes);
// or
secret = secrets.UpdateAsync(secret.Name, secret.Version, attributes: secret.Attributes);
~~~
### Replaces:
~~~ csharp
public async Task<SecretBundle> UpdateSecretAsync(string secretIdentifier, string contentType = default, SecretAttributes secretAttributes = default, Dictionary<string, string> tags = default, CancellationToken cancellationToken = default);
public async Task<SecretBundle> UpdateSecretAsync(string vaultBaseUrl, string secretName, string secretVersion, string contentType = default, SecretAttributes secretAttributes = default, IDictionary<string, string> tags = default, CancellationToken cancellationToken = default);
public virtual async Task<AzureOperationResponse<SecretBundle>> UpdateSecretWithHttpMessagesAsync(string vaultBaseUrl, string secretName, string secretVersion, string contentType = default, SecretAttributes secretAttributes = default, IDictionary<string, string> tags = default, Dictionary<string, List<string>> customHeaders = default, CancellationToken cancellationToken = default);
~~~
#### Usage:
~~~ csharp
// extend the expiration of a secret
var secret = await client.GetSecretAsync("secretkey");

secret.Attributes.NotBefore = secret.Attributes.NotBefore + Timespan.FromDays(90);

secret = secrets.UpdateSecretAsync("https://myvault.vaults.azure.net/", secret.Id, attributes: secret.Attributes);
// or
secret = secrets.UpdateSecretAsync("https://myvault.vaults.azure.net/", secret.Name, secret.Version, attributes: secret.Attributes);
~~~

## List Operations

### SecetClient.List
~~~ csharp
public Page<Secret>.AsyncItemEnumerator ListAsync(int? maxPageSize = default, CancellationToken cancellation = default);
public Page<Secret>.AsyncItemEnumerator ListVersionsAsync(string name, int? maxPageSize = default, CancellationToken cancellation = default);
public Page<Secret>.AsyncItemEnumerator ListDeletedAsync(int? maxPageSize = default, CancellationToken cancellation = default);
public Page<Secret>.AsyncEnumerator ListByPageAsync(int? maxPageSize = default, CancellationToken cancellation = default);
public Page<Secret>.AsyncEnumerator ListVersionsByPageAsync(string name, int? maxPageSize = default, CancellationToken cancellation = default);
public Page<Secret>.AsyncEnumerator ListDeletedByPageAsync(int? maxPageSize = default, CancellationToken cancellation = default);
~~~
#### Usage:
~~~ csharp
// list all the secrets in the vault using await foreach
await foreach(var s in secrets.ListAsync())
{
    Console.WriteLine(s.Id);
}

// list all secrets by page
await foreach(Page<Secret> sPage in secrets.ListByPageAsync(maxPageSize: 5))
{
    for(int i = 0; i < sPage.Items.Length; i++)
    {
        Console.WriteLine(sPage.Items[i].Result.Id);
    }
}

// NOTE: async iteration still works if the user doesn't have c# 8 await foreach
var secretEnumerator = secrets.ListAsync();

while(await secretEnumerator.MoveNextAsync())
{
    Console.WriteLine(secretEnumerator.Current.Id);
}
~~~
__Open Questions__: 
- Should we expose both List and ListByPage? If not which is prefered?
- Currently List enumerator returns T, but ListByPage enumerator returns Response<Page<T>>. So in the later case the user must cast the items to T or call Result.
Is this differentce in functionality acceptable?

### Replaces:
~~~ csharp
public async Task<IPage<SecretItem>> GetSecretsAsync(string vaultBaseUrl, int? maxresults = default, CancellationToken cancellationToken = default);
public async Task<IPage<SecretItem>> GetSecretVersionsAsync(string vaultBaseUrl, string secretName, int? maxresults = default, CancellationToken cancellationToken = default);
public async Task<IPage<DeletedSecretItem>> GetDeletedSecretsAsync(string vaultBaseUrl, int? maxresults = default, CancellationToken cancellationToken = default);
public async Task<IPage<SecretItem>> GetSecretsNextAsync(string nextPageLink, CancellationToken cancellationToken = default);
public async Task<IPage<SecretItem>> GetSecretVersionsNextAsync(string nextPageLink, CancellationToken cancellationToken = default);
public async Task<IPage<DeletedSecretItem>> GetDeletedSecretsNextAsync(string nextPageLink, CancellationToken cancellationToken = default);
public virtual async Task<AzureOperationResponse<IPage<SecretItem>>> GetSecretsWithHttpMessagesAsync(string vaultBaseUrl, int? maxresults = default, Dictionary<string, List<string>> customHeaders = default, CancellationToken cancellationToken = default);
public virtual async Task<AzureOperationResponse<IPage<SecretItem>>> GetSecretVersionsWithHttpMessagesAsync(string vaultBaseUrl, string secretName, int? maxresults = default, Dictionary<string, List<string>> customHeaders = default, CancellationToken cancellationToken = default);
public virtual async Task<AzureOperationResponse<IPage<DeletedSecretItem>>> GetDeletedSecretsWithHttpMessagesAsync(string vaultBaseUrl, int? maxresults = default, Dictionary<string, List<string>> customHeaders = default, CancellationToken cancellationToken = default);
public virtual async Task<AzureOperationResponse<IPage<SecretItem>>> GetSecretsNextWithHttpMessagesAsync(string nextPageLink, Dictionary<string, List<string>> customHeaders = default, CancellationToken cancellationToken = default);
public virtual async Task<AzureOperationResponse<IPage<SecretItem>>> GetSecretVersionsNextWithHttpMessagesAsync(string nextPageLink, Dictionary<string, List<string>> customHeaders = default, CancellationToken cancellationToken = default);
public virtual async Task<AzureOperationResponse<IPage<DeletedSecretItem>>> GetDeletedSecretsNextWithHttpMessagesAsync(string nextPageLink, Dictionary<string, List<string>> customHeaders = default, CancellationToken cancellationToken = default);
~~~
#### Usage:
~~~ csharp
// currently the only way to list for the existing APIs are by page
var currentPage = await client.GetSecretsAsync("https://myvault.vaults.azure.net/");

while (currentPage?.NextLink != null)
{
    for(int i = 0; i < current.Items.Length; i++)
    {
        Console.WriteLine(currentPage.Items[i].Result.Id);
    }

    currentPage = await client.GetSecretsNextAsync(currentPage.NextLink);
}
~~~

## Delete Operations

### SecetClient.Delete
~~~ csharp
public async Task<Response<DeletedSecret>> DeleteAsync(string name, CancellationToken cancellation = default);
~~~
#### Usage:
~~~ csharp
var deletedSecret = secrets.Delete("user1pass");
~~~
### Replaces:
~~~ csharp
public async Task<DeletedSecretBundle> DeleteSecretAsync(string vaultBaseUrl, string secretName, CancellationToken cancellationToken = default);
public virtual async Task<AzureOperationResponse<DeletedSecretBundle>> DeleteSecretWithHttpMessagesAsync(string vaultBaseUrl, string secretName, Dictionary<string, List<string>> customHeaders = default, CancellationToken cancellationToken = default);
~~~
#### Usage:
~~~ csharp
var deletedSecret = secrets.DeleteSecretAsync("https://myvault.vaults.azure.net/", "user1pass");
// or
var deletedSecret = secrets.DeleteSecretAsync("https://myvault.vaults.azure.net/", "user1pass").Body;
~~~

### SecetClient.
~~~ csharp
~~~
#### Usage:
~~~ csharp
~~~
### Replaces:
~~~ csharp
~~~
#### Usage:
~~~ csharp
~~~
